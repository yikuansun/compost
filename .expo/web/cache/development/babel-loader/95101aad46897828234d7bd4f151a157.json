{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/yichen/Git/compost/GoCompost/components/Community/Community.js\";\nimport React, { Component, useState, useEffect } from \"react\";\nimport { Container, Content } from \"native-base\";\nimport { SearchBar } from 'react-native-elements';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\n\nvar Community = function Community() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filteredDataSource = _useState4[0],\n      setFilteredDataSource = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      masterDataSource = _useState6[0],\n      setMasterDataSource = _useState6[1];\n\n  useEffect(function () {\n    fetch('https://tigersteve123.github.io/TigersteveTech/hosted_content/gocompost/database.json').then(function (response) {\n      return response.json();\n    }).then(function (responseJson) {\n      setFilteredDataSource(responseJson);\n      setMasterDataSource(responseJson);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }, []);\n\n  var eventDialog = function eventDialog(props) {\n    var _useState7 = useState(true),\n        _useState8 = _slicedToArray(_useState7, 2),\n        modalVisible = _useState8[0],\n        setModalVisibility = _useState8[1];\n\n    React.createElement(Modal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 5\n      }\n    }, \" //visible=\", modalVisible, \">\", React.createElement(View, {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, props.item.title), React.createElement(Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }, props.item.date), React.createElement(Text, {\n      onPress: function onPress() {\n        return setModalVisibility(false);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, \"Back\")));\n  };\n\n  var searchFilterFunction = function searchFilterFunction(text) {\n    if (text) {\n      var newData = masterDataSource.filter(function (item) {\n        var itemData = item.title ? item.title.toUpperCase() : ''.toUpperCase();\n        var catData = item.cat ? item.cat.toUpperCase() : ''.toUpperCase();\n        var textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1 || catData.indexOf(textData) > -1;\n      });\n      setFilteredDataSource(newData);\n      setSearch(text);\n    } else {\n      setFilteredDataSource(masterDataSource);\n      setSearch(text);\n    }\n  };\n\n  var ItemView = function ItemView(_ref) {\n    var item = _ref.item;\n    return React.createElement(View, {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      onPress: function onPress() {\n        return getItem(item);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, React.createElement(Image, {\n      source: {\n        uri: item.imglink\n      },\n      style: {\n        alignSelf: 'center',\n        width: 300,\n        height: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    })), React.createElement(Text, {\n      style: styles.itemStyle,\n      onPress: function onPress() {\n        return getItem(item);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, item.title.toUpperCase()));\n  };\n\n  var ItemSeparatorView = function ItemSeparatorView() {\n    return React.createElement(View, {\n      style: {\n        height: 1,\n        width: '100%',\n        backgroundColor: '#C8C8C8'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var getItem = function getItem(item) {\n    return React.createElement(\"eventDialog\", {\n      item: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"Community Events\"), React.createElement(SearchBar, {\n    round: true,\n    searchIcon: {\n      size: 24\n    },\n    onChangeText: function onChangeText(text) {\n      return searchFilterFunction(text);\n    },\n    onClear: function onClear(text) {\n      return searchFilterFunction('');\n    },\n    placeholder: \"Search posts by title or category\",\n    value: search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), React.createElement(FlatList, {\n    data: filteredDataSource,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    ItemSeparatorComponent: ItemSeparatorView,\n    renderItem: ItemView,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#cca2de'\n  },\n  itemStyle: {\n    alignSelf: 'center'\n  }\n});\nexport default Community;","map":{"version":3,"sources":["/home/yichen/Git/compost/GoCompost/components/Community/Community.js"],"names":["React","Component","useState","useEffect","Container","Content","SearchBar","Community","search","setSearch","filteredDataSource","setFilteredDataSource","masterDataSource","setMasterDataSource","fetch","then","response","json","responseJson","catch","error","console","eventDialog","props","modalVisible","setModalVisibility","padding","item","title","date","searchFilterFunction","text","newData","filter","itemData","toUpperCase","catData","cat","textData","indexOf","ItemView","getItem","uri","imglink","alignSelf","width","height","styles","itemStyle","ItemSeparatorView","backgroundColor","flex","container","size","index","toString","StyleSheet","create"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,aAAnC;AACA,SAASC,SAAT,QAA0B,uBAA1B;;;;;;;;;;;AAGA,IAAMC,SAAS,GAAG,SAAZA,SAAY,GAAM;AAAA,kBACML,QAAQ,CAAC,EAAD,CADd;AAAA;AAAA,MACfM,MADe;AAAA,MACPC,SADO;;AAAA,mBAG8BP,QAAQ,CAAC,EAAD,CAHtC;AAAA;AAAA,MAGfQ,kBAHe;AAAA,MAGKC,qBAHL;;AAAA,mBAI0BT,QAAQ,CAAC,EAAD,CAJlC;AAAA;AAAA,MAIfU,gBAJe;AAAA,MAIGC,mBAJH;;AAMtBV,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,KAAK,CAAC,uFAAD,CAAL,CACGC,IADH,CACQ,UAACC,QAAD;AAAA,aAAcA,QAAQ,CAACC,IAAT,EAAd;AAAA,KADR,EAEGF,IAFH,CAEQ,UAACG,YAAD,EAAkB;AACtBP,MAAAA,qBAAqB,CAACO,YAAD,CAArB;AACAL,MAAAA,mBAAmB,CAACK,YAAD,CAAnB;AACD,KALH,EAMGC,KANH,CAMS,UAACC,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD,KARH;AASD,GAVQ,EAUN,EAVM,CAAT;;AAYA,MAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAAA,qBACcrB,QAAQ,CAAC,IAAD,CADtB;AAAA;AAAA,QACtBsB,YADsB;AAAA,QACRC,kBADQ;;AAG7B,wBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAmBD,YAAnB,OACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACE,QAAAA,OAAO,EAAE;AAAV,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOH,KAAK,CAACI,IAAN,CAAWC,KAAlB,CADF,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOL,KAAK,CAACI,IAAN,CAAWE,IAAlB,CAFF,EAGE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE;AAAA,eAAMJ,kBAAkB,CAAC,KAAD,CAAxB;AAAA,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADF;AAOD,GAVD;;AAYA,MAAMK,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,IAAD,EAAU;AAErC,QAAIA,IAAJ,EAAU;AAIR,UAAMC,OAAO,GAAGpB,gBAAgB,CAACqB,MAAjB,CAAwB,UAAUN,IAAV,EAAgB;AACtD,YAAMO,QAAQ,GAAGP,IAAI,CAACC,KAAL,GACbD,IAAI,CAACC,KAAL,CAAWO,WAAX,EADa,GAEb,GAAGA,WAAH,EAFJ;AAGA,YAAMC,OAAO,GAAGT,IAAI,CAACU,GAAL,GACZV,IAAI,CAACU,GAAL,CAASF,WAAT,EADY,GAEZ,GAAGA,WAAH,EAFJ;AAGA,YAAMG,QAAQ,GAAGP,IAAI,CAACI,WAAL,EAAjB;AACA,eAAOD,QAAQ,CAACK,OAAT,CAAiBD,QAAjB,IAA6B,CAAC,CAA9B,IAAmCF,OAAO,CAACG,OAAR,CAAgBD,QAAhB,IAA4B,CAAC,CAAvE;AACD,OATe,CAAhB;AAUA3B,MAAAA,qBAAqB,CAACqB,OAAD,CAArB;AACAvB,MAAAA,SAAS,CAACsB,IAAD,CAAT;AACD,KAhBD,MAgBO;AAGLpB,MAAAA,qBAAqB,CAACC,gBAAD,CAArB;AACAH,MAAAA,SAAS,CAACsB,IAAD,CAAT;AACD;AACF,GAxBD;;AA0BA,MAAMS,QAAQ,GAAG,SAAXA,QAAW,OAAc;AAAA,QAAXb,IAAW,QAAXA,IAAW;AAE7B,WAGE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACD,QAAAA,OAAO,EAAE;AAAV,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,gBAAD;AAAkB,MAAA,OAAO,EAAE;AAAA,eAAMe,OAAO,CAACd,IAAD,CAAb;AAAA,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,MAAM,EAAE;AAACe,QAAAA,GAAG,EAACf,IAAI,CAACgB;AAAV,OAAf;AAAmC,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE,QAAZ;AAAsBC,QAAAA,KAAK,EAAE,GAA7B;AAAkCC,QAAAA,MAAM,EAAE;AAA1C,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAA+B,MAAA,OAAO,EAAE;AAAA,eAAMP,OAAO,CAACd,IAAD,CAAb;AAAA,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,IAAI,CAACC,KAAL,CAAWO,WAAX,EADH,CAJF,CAHF;AAaD,GAfD;;AAiBA,MAAMc,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9B,WAEE,oBAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLH,QAAAA,MAAM,EAAE,CADH;AAELD,QAAAA,KAAK,EAAE,MAFF;AAGLK,QAAAA,eAAe,EAAE;AAHZ,OADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF;AAUD,GAXD;;AAaA,MAAMT,OAAO,GAAG,SAAVA,OAAU,CAACd,IAAD,EAAU;AAGxB,WAAQ;AAAa,MAAA,IAAI,EAAEA,IAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAR;AACD,GAJD;;AAMA,SACE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE;AAAEwB,MAAAA,IAAI,EAAE;AAAR,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ,MAAM,CAACK,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE,oBAAC,SAAD;AACE,IAAA,KAAK,MADP;AAEE,IAAA,UAAU,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAFd;AAGE,IAAA,YAAY,EAAE,sBAACtB,IAAD;AAAA,aAAUD,oBAAoB,CAACC,IAAD,CAA9B;AAAA,KAHhB;AAIE,IAAA,OAAO,EAAE,iBAACA,IAAD;AAAA,aAAUD,oBAAoB,CAAC,EAAD,CAA9B;AAAA,KAJX;AAKE,IAAA,WAAW,EAAC,mCALd;AAME,IAAA,KAAK,EAAEtB,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAUE,oBAAC,QAAD;AACE,IAAA,IAAI,EAAEE,kBADR;AAEE,IAAA,YAAY,EAAE,sBAACiB,IAAD,EAAO2B,KAAP;AAAA,aAAiBA,KAAK,CAACC,QAAN,EAAjB;AAAA,KAFhB;AAGE,IAAA,sBAAsB,EAAEN,iBAH1B;AAIE,IAAA,UAAU,EAAET,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,CADF;AAqBD,CAjHD;;AAmHA,IAAMO,MAAM,GAAGS,UAAU,CAACC,MAAX,CAAkB;AAC/BL,EAAAA,SAAS,EAAE;AACTF,IAAAA,eAAe,EAAE;AADR,GADoB;AAI/BF,EAAAA,SAAS,EAAE;AAETJ,IAAAA,SAAS,EAAE;AAFF;AAJoB,CAAlB,CAAf;AAUA,eAAerC,SAAf","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport { Container, Content } from \"native-base\";\nimport { SearchBar } from 'react-native-elements';\nimport { Text, ScrollView, SafeAreaView, View, FlatList, StyleSheet, Image, TouchableOpacity, Modal } from 'react-native';\n\nconst Community = () => {\n  const [search, setSearch] = useState('');\n  \n  const [filteredDataSource, setFilteredDataSource] = useState([]);\n  const [masterDataSource, setMasterDataSource] = useState([]);\n\n  useEffect(() => {\n    fetch('https://tigersteve123.github.io/TigersteveTech/hosted_content/gocompost/database.json')\n      .then((response) => response.json())\n      .then((responseJson) => {\n        setFilteredDataSource(responseJson);\n        setMasterDataSource(responseJson);\n      })\n      .catch((error) => {\n        console.error(error);\n      });\n  }, []);\n  \n  const eventDialog = (props) => {\n    const [modalVisible, setModalVisibility] = useState(true);\n  \n    <Modal> //visible={modalVisible}>\n      <View style={{padding: 10,}}>\n        <Text>{props.item.title}</Text>\n        <Text>{props.item.date}</Text>\n        <Text onPress={() => setModalVisibility(false)}>Back</Text>\n      </View>\n    </Modal>\n  };\n\n  const searchFilterFunction = (text) => {\n    // Check if searched text is not blank\n    if (text) {\n      // Inserted text is not blank\n      // Filter the masterDataSource\n      // Update FilteredDataSource\n      const newData = masterDataSource.filter(function (item) {\n        const itemData = item.title\n          ? item.title.toUpperCase()\n          : ''.toUpperCase();\n        const catData = item.cat\n          ? item.cat.toUpperCase()\n          : ''.toUpperCase();\n        const textData = text.toUpperCase();\n        return itemData.indexOf(textData) > -1 || catData.indexOf(textData) > -1;\n      });\n      setFilteredDataSource(newData);\n      setSearch(text);\n    } else {\n      // Inserted text is blank\n      // Update FilteredDataSource with masterDataSource\n      setFilteredDataSource(masterDataSource);\n      setSearch(text);\n    }\n  };\n\n  const ItemView = ({ item }) => {\n    \n    return (\n      \n      // Flat List Item\n      <View style={{padding: 10,}}>\n        <TouchableOpacity onPress={() => getItem(item)}>\n          <Image source={{uri:item.imglink}} style={{alignSelf: 'center', width: 300, height: 300}} />\n        </TouchableOpacity>\n        <Text style={styles.itemStyle} onPress={() => getItem(item)}>\n          {item.title.toUpperCase()}\n        </Text>\n      </View>\n      \n    );\n  };\n\n  const ItemSeparatorView = () => {\n    return (\n      // Flat List Item Separator\n      <View\n        style={{\n          height: 1,\n          width: '100%',\n          backgroundColor: '#C8C8C8',\n        }}\n      />\n    );\n  };\n\n  const getItem = (item) => {\n    // Function for click on an item\n    //alert(item.title);\n    return (<eventDialog item={item} />);\n  };\n\n  return (\n    <SafeAreaView style={{ flex: 1 }}>\n      <View style={styles.container}>\n        <Text>Community Events</Text>\n        <SearchBar\n          round\n          searchIcon={{ size: 24 }}\n          onChangeText={(text) => searchFilterFunction(text)}\n          onClear={(text) => searchFilterFunction('')}\n          placeholder=\"Search posts by title or category\"\n          value={search}\n        />\n        <FlatList\n          data={filteredDataSource}\n          keyExtractor={(item, index) => index.toString()}\n          ItemSeparatorComponent={ItemSeparatorView}\n          renderItem={ItemView}\n        />\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#cca2de',\n  },\n  itemStyle: {\n    //padding: 10,\n    alignSelf: 'center',\n  },\n});\n\nexport default Community;\n"]},"metadata":{},"sourceType":"module"}