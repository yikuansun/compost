<?xml version="1.0" encoding="utf-8"?>
<!-- 
  Copyright (c) Microsoft Corporation. All rights reserved.
 Licensed under the MIT License.. 
-->
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(ReactNativeWindowsDir)\Microsoft.ReactNative.SharedManaged\Microsoft.ReactNative.SharedManaged.projitems" Label="Shared" />
  <ItemGroup>
    <ProjectReference Include="$(ReactNativeWindowsDir)\Microsoft.ReactNative\Microsoft.ReactNative.vcxproj">
      <Project>{f7d32bd0-2749-483e-9a0d-1635ef7e3136}</Project>
      <Name>Microsoft.ReactNative</Name>
    </ProjectReference>
    <PackageReference Include="Microsoft.UI.Xaml">
      <Version>2.3.191129002</Version>
    </PackageReference>
  </ItemGroup>
  <Import Project="$(ReactNativeWindowsDir)\PropertySheets\Bundle.targets" />
  <Import Project="$(ProjectDir)\AutolinkedNativeModules.g.targets" Condition="Exists('$(ProjectDir)\AutolinkedNativeModules.g.targets')" />

  <Import Project="$(OutputPath)$(AssemblyName).Build.appxrecipe"
          Condition="Exists('$(OutputPath)$(AssemblyName).Build.appxrecipe') And '$(DeployLayout)'=='true'" />

  <Target Name="Deploy" Condition="'$(DeployLayout)'=='true'">
    <Error Condition="!Exists('$(OutputPath)$(AssemblyName).Build.appxrecipe')"
           Text="You must first build the project before deploying it" />
    <Copy SourceFiles="%(AppxPackagedFile.Identity)"
          DestinationFiles="$(OutputPath)Appx\%(AppxPackagedFile.PackagePath)" />
    <Copy SourceFiles="%(AppXManifest.Identity)"
          DestinationFiles="$(OutputPath)Appx\%(AppxManifest.PackagePath)"
          Condition="'%(AppxManifest.SubType)'!='Designer'"/>
    <Exec Command="powershell -NonInteractive -NoProfile -Command Add-AppxPackage -Register $(OutputPath)Appx\AppxManifest.xml"
          ContinueOnError="false" />
  </Target>

</Project>
